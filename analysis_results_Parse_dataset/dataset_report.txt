Pulmonary Artery Segmentation Dataset Analysis
==================================================

Total number of patients: 100

Image Dimensions:
  - Number of unique shapes: 68
    - (512, 512, 342): 0 images
    - (512, 512, 248): 0 images
    - (512, 512, 352): 0 images
    - (512, 512, 296): 0 images
    - (512, 512, 275): 0 images
    - (512, 512, 271): 0 images
    - (512, 512, 298): 0 images
    - (512, 512, 285): 0 images
    - (512, 512, 288): 0 images
    - (512, 512, 316): 0 images
    - (512, 512, 257): 0 images
    - (512, 512, 329): 0 images
    - (512, 512, 313): 0 images
    - (512, 512, 256): 0 images
    - (512, 512, 292): 0 images
    - (512, 512, 270): 0 images
    - (512, 512, 337): 0 images
    - (512, 512, 324): 0 images
    - (512, 512, 267): 0 images
    - (512, 512, 277): 0 images
    - (512, 512, 282): 0 images
    - (512, 512, 323): 0 images
    - (512, 512, 301): 0 images
    - (512, 512, 273): 0 images
    - (512, 512, 284): 0 images
    - (512, 512, 280): 0 images
    - (512, 512, 318): 0 images
    - (512, 512, 349): 0 images
    - (512, 512, 251): 0 images
    - (512, 512, 390): 0 images
    - (512, 512, 309): 0 images
    - (512, 512, 289): 0 images
    - (512, 512, 300): 0 images
    - (512, 512, 338): 0 images
    - (512, 512, 331): 0 images
    - (512, 512, 314): 0 images
    - (512, 512, 299): 0 images
    - (512, 512, 341): 0 images
    - (512, 512, 297): 0 images
    - (512, 512, 325): 0 images
    - (512, 512, 269): 0 images
    - (512, 512, 304): 0 images
    - (512, 512, 305): 0 images
    - (512, 512, 327): 0 images
    - (512, 512, 254): 0 images
    - (512, 512, 343): 0 images
    - (512, 512, 262): 0 images
    - (512, 512, 317): 0 images
    - (512, 512, 258): 0 images
    - (512, 512, 293): 0 images
    - (512, 512, 295): 0 images
    - (512, 512, 228): 0 images
    - (512, 512, 310): 0 images
    - (512, 512, 333): 0 images
    - (512, 512, 315): 0 images
    - (512, 512, 291): 0 images
    - (512, 512, 321): 0 images
    - (512, 512, 302): 0 images
    - (512, 512, 320): 0 images
    - (512, 512, 355): 0 images
    - (512, 512, 312): 0 images
    - (512, 512, 281): 0 images
    - (512, 512, 290): 0 images
    - (512, 512, 346): 0 images
    - (512, 512, 311): 0 images
    - (512, 512, 278): 0 images
    - (512, 512, 326): 0 images
    - (512, 512, 348): 0 images

Image Spacings:
  - Number of unique spacings: 64
    - (0.74609375, 0.74609375, 1.0): 0 images
    - (0.6972656, 0.6972656, 1.0): 0 images
    - (0.7402344, 0.7402344, 1.0): 0 images
    - (0.58984375, 0.58984375, 1.0): 0 images
    - (0.5566406, 0.5566406, 1.0): 0 images
    - (0.6269531, 0.6269531, 1.0): 0 images
    - (0.73046875, 0.73046875, 1.0): 0 images
    - (0.65625, 0.65625, 1.0): 0 images
    - (0.921875, 0.921875, 1.0): 0 images
    - (0.796875, 0.796875, 1.0): 0 images
    - (0.62890625, 0.62890625, 1.0): 0 images
    - (0.625, 0.625, 1.0): 0 images
    - (0.68359375, 0.68359375, 1.0): 0 images
    - (0.80078125, 0.80078125, 1.0): 0 images
    - (0.6328125, 0.6328125, 1.0): 0 images
    - (0.63671875, 0.63671875, 1.0): 0 images
    - (0.5859375, 0.5859375, 1.0): 0 images
    - (0.62109375, 0.62109375, 1.0): 0 images
    - (0.7597656, 0.7597656, 1.0): 0 images
    - (0.5371094, 0.5371094, 1.0): 0 images
    - (0.640625, 0.640625, 1.0): 0 images
    - (0.61328125, 0.61328125, 1.0): 0 images
    - (0.6503906, 0.6503906, 1.0): 0 images
    - (0.6484375, 0.6484375, 1.0): 0 images
    - (0.60546875, 0.60546875, 1.0): 0 images
    - (0.7753906, 0.7753906, 1.0): 0 images
    - (0.5605469, 0.5605469, 1.0): 0 images
    - (0.82421875, 0.82421875, 1.0): 0 images
    - (0.59375, 0.59375, 1.0): 0 images
    - (0.87109375, 0.87109375, 1.0): 0 images
    - (0.57421875, 0.57421875, 1.0): 0 images
    - (0.59765625, 0.59765625, 1.0): 0 images
    - (0.6484375, 0.6484375, 0.9999999): 0 images
    - (0.7441406, 0.7441406, 1.0): 0 images
    - (0.66796875, 0.66796875, 1.0): 0 images
    - (0.7265625, 0.7265625, 1.0): 0 images
    - (0.5527344, 0.5527344, 1.0): 0 images
    - (0.71484375, 0.71484375, 1.0): 0 images
    - (0.6015625, 0.6015625, 1.0): 0 images
    - (0.7734375, 0.7734375, 1.0): 0 images
    - (0.9238281, 0.9238281, 1.0): 0 images
    - (0.72265625, 0.72265625, 1.0): 0 images
    - (0.76953125, 0.76953125, 1.0): 0 images
    - (0.734375, 0.734375, 1.0): 0 images
    - (0.6171875, 0.6171875, 1.0): 0 images
    - (0.703125, 0.703125, 1.0): 0 images
    - (0.71875, 0.71875, 1.0): 0 images
    - (0.58203125, 0.58203125, 1.0): 0 images
    - (0.6621094, 0.6621094, 1.0): 0 images
    - (0.6640625, 0.6640625, 0.99999976): 0 images
    - (0.50390625, 0.50390625, 0.8): 0 images
    - (0.671875, 0.671875, 1.0): 0 images
    - (0.7109375, 0.7109375, 1.0): 0 images
    - (0.75, 0.75, 1.0): 0 images
    - (0.6875, 0.6875, 1.0): 0 images
    - (0.70703125, 0.70703125, 1.0): 0 images
    - (0.67578125, 0.67578125, 1.0): 0 images
    - (0.6796875, 0.6796875, 1.0): 0 images
    - (0.64453125, 0.64453125, 1.0): 0 images
    - (0.609375, 0.609375, 1.0): 0 images
    - (0.65234375, 0.65234375, 1.0): 0 images
    - (0.8066406, 0.8066406, 1.0): 0 images
    - (0.7675781, 0.7675781, 1.0): 0 images
    - (0.6464844, 0.6464844, 1.0): 0 images

Segmentation Statistics:
  - Min volume: 126821.00 voxels
  - Max volume: 568109.00 voxels
  - Mean volume: 310107.85 voxels
  - Std volume: 77041.40 voxels

  - Min percentage: 0.1640%
  - Max percentage: 0.6508%
  - Mean percentage: 0.3914%
  - Std percentage: 0.0940%

Intensity Statistics:
  - Mean contrast ratio: -0.0799
  - Min contrast ratio: -0.4373
  - Max contrast ratio: 0.3167

Model Selection Recommendations:
  - The dataset has a significant class imbalance (small percentage of voxels labeled as vessels).
  - Consider using models that handle class imbalance well, such as U-Net with weighted loss functions.
  - Dice loss or Focal loss might be more appropriate than binary cross-entropy.
  - Dataset contains images of different dimensions.
  - Consider using patch-based approaches or resizing to a common dimension.
  - 3D U-Net with patch sampling might be appropriate.
  - Dataset contains images with different spacings.
  - Consider resampling all images to a common spacing before training.
  - Low contrast between vessels and background.
  - Consider preprocessing steps like histogram equalization or contrast enhancement.
  - Models with attention mechanisms might perform better.

Recommended Models:
  1. 3D U-Net: Good baseline for volumetric medical image segmentation
  2. V-Net: Specifically designed for volumetric medical image segmentation with dice loss
  3. Attention U-Net: Helpful if vessels are small and contrast is variable
  4. nnU-Net: State-of-the-art self-configuring method for medical image segmentation
  5. DeepMedic: Multi-scale 3D CNN architecture good for capturing details at different scales

Preprocessing Recommendations:
  1. Intensity normalization (e.g., z-score normalization within foreground)
  2. Resampling to isotropic resolution if voxel spacings are anisotropic
  3. Data augmentation (rotation, scaling, elastic deformation, etc.)
  4. Connected component analysis to ensure only pulmonary arteries are labeled

Evaluation Metrics Recommendations:
  1. Dice coefficient: Standard for medical image segmentation
  2. Hausdorff distance: Important for boundary accuracy
  3. Average surface distance: More robust to outliers than Hausdorff
  4. Precision and recall: Important due to class imbalance
